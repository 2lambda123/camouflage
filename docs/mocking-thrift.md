# Mocking Thrift

Thrift is another one of RPC protocols, alongside gRPC, that can be mocked using Camouflage. To know more about Thrift with NodeJS, refer to the provided tutorials on [Apache Thrift website](https://thrift.apache.org/tutorial/nodejs.html){target=\_blank}.

## Configuration

- To enable mocking for thrift, begin by setting the property `protocols.thrift.enable` to `true` in config.yaml
- Specify a `mocks_dir`, a directory which will contain the relevant mocks for the thrift service
- Create a mock file, in the format `${mocks_dir}/service_name/handler.mock`
- Finally, provide a `services` array
    - Under thrift protocol, multiple services can be mocked. Camouflage does this by spinning up one server for each specified service.
    - Each `service` item in config, contains details such as `port`, `service` and `handlers`.
    - `port`: Any available port on which a thrift server should be deployed.
    - `service`: The entrypoint of the code generated by thrift: `thrift -r --gen js:node tutorial.thrift`. Provide the absolute path for generated code.
    - `handlers`: An array of strings denoting the handlers to be mocked.


!!! caution
    Camouflage does not support multiplexed processor at this time.